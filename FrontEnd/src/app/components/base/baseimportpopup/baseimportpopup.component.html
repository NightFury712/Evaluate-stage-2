<div class="dark-background import-popup-background"></div>
<div class="import-popup middle">
  <div class="popup-header flex">
    <div class="popup-header-title">
      <span class="title">Nhập khẩu dữ liệu</span>
    </div>
    <div class="btn-close-popup">
      <app-basebutton
        btnStyle="m-btn-none"
        icon="mi mi-24 mi-help"
        text=""
        [tooltipInfo]="{ place: 'bottom', text: 'Giúp' }"
      >
      </app-basebutton>
      <app-basebutton
        btnStyle="m-btn-none"
        icon="mi mi-24 mi-times"
        text=""
        [tooltipInfo]="{ place: 'bottom', text: 'Đóng (ESC)' }"
        (btnClick)="closeImportPopupClick()"
      >
      </app-basebutton>
    </div>
  </div>
  <div class="popup-content-container">
    <div class="popup-content">
      <div class="container-left w-2/5">
        <div class="container-left-item w-full">
          <div class="item-title">
            <span class="title">Chọn tệp nhập khẩu:</span>
          </div>
          <div class="item-content">
            <label
              for="file-import"
              class="file-import m-btn m-btn-primary w-1/3"
            >
              <input 
                type="file" 
                id="file-import" 
                class="hide" 
                (change)="fileInputChange($event)"
              />
              <span class="text">Chọn tệp</span>
            </label>
            <div class="file-uri w-2/3">
              <div class="tooltip-container left top">
                <span class="filename">{{ file === null ? "Chưa chọn tệp" : file.name }}</span>
                <span class="tooltiptext">{{ file === null ? "Chưa chọn tệp" : file.name }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container-right w-3/5">
        <div class="container-right-title">
          <span class="title">Chọn trường nhập khẩu:</span>
        </div>
        <div class="container-right-content">
          <table width="100%" cellspacing="0">
            <thead>
              <th class="th-checkbox">
                <input
                  type="checkbox"
                  id="import-fieldname-all"
                  class="cb-input"
                  [(ngModel)]="fieldSelectedAll"
                  (change)="selectedAll()"
                />
                <label for="import-fieldname-all">
                  <i class="fas fa-check"></i>
                </label>
              </th>
              <th>
                <span>Tên cột dữ liệu</span>
              </th>
            </thead>
            <tbody>
              <tr *ngFor="let item of importField; index as index">
                <td class="td-checkbox">
                  <input
                    type="checkbox"
                    [id]="'checkbox-customer-' + index"
                    class="cb-input"
                    [(ngModel)]="importField[index].flag"
                  />
                  <label [for]="'checkbox-customer-' + index">
                    <i class="fas fa-check"></i>
                  </label>
                </td>
                <td
                  [class]="'td-' + item.fieldName"
                >
                  {{ item.displayName }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="import-popup-footer">
      <div class="footer-button w-full">
        <div class="footer-button-left">
          <app-basebutton
            btnStyle="m-btn m-btn-secondary"
            icon=""
            text="Hủy"
            [tooltipInfo]="{
              place: 'top',
              text: 'Đóng (ESC)'
            }"
            (btnClick)="closeImportPopupClick()"
          >
          </app-basebutton>
        </div>
        <div class="footer-button-right">
          <app-basebutton
              btnStyle="m-btn m-btn-primary"
              icon=""
              text="Lưu"
              [tooltipInfo]="{
                place: 'top',
                text: 'Lưu (Ctrl + S)'
              }"
              (btnClick)="onFormSubmit()"
            >
            </app-basebutton>
        </div>
      </div>
    </div>
  </div>
</div>
